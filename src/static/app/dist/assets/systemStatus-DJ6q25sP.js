import{_ as D,a,c as o,b as s,t as n,D as V,p as h,o as G,s as j,r as v,g as H,d as r,q as d,F as _,h as p,A as S,w as P,k as U,e as b,i as y,f as L,G as x}from"./index-DYu3w9yi.js";import{L as c}from"./localeText-CJ9oAh-b.js";import{C as T}from"./storageMount.vue_vue_type_style_index_0_scoped_a382214a_lang-_5Bl-2kL.js";import{C as q,L as A,B as F,a as z,b as J,c as K,p as Q,d as R,e as W,f as X,P as Y,i as Z,g as $}from"./index-DTlp53es.js";import{d as ss}from"./dayjs.min-BoqzkTu7.js";const es={class:"mb-1 d-flex gap-5"},ts={class:"title"},as={class:"ms-auto"},os={__name:"process",props:["process","cpu"],setup(u){return(g,e)=>(a(),o("div",es,[s("small",ts,[e[0]||(e[0]=s("i",{class:"bi bi-code-square me-2"},null,-1)),s("samp",null,n(u.process.command?u.process.command:u.process.name),1)]),s("small",as,n(Math.round((u.process.percent+Number.EPSILON)*10)/10)+"% ",1)]))}},B=D(os,[["__scopeId","data-v-ffe5ad8f"]]),ls={class:"text-body row g-2 mb-2"},rs={class:"col-sm-6"},ns={class:"card rounded-3 h-100 shadow"},cs={class:"card-body p-4"},is={class:"d-flex flex-column gap-3"},ds={class:"d-flex flex-column gap-3",style:{height:"130px"}},us={class:"d-flex align-items-center"},_s={class:"text-muted mb-0"},ps={class:"ms-auto mb-0"},ms={key:0},hs={key:1,class:"spinner-border"},vs={class:"progress",role:"progressbar",style:{height:"10px"}},bs={class:"d-flex gap-1"},gs={class:"d-flex align-items-center"},fs={class:"mb-0"},ys={class:"mb-0 ms-auto text-muted"},xs={class:"position-relative"},ws={class:"col-sm-6"},ks={class:"card rounded-3 h-100 shadow"},Cs={class:"card-body p-4"},Ns={class:"d-flex flex-column gap-3"},Ms={class:"d-flex flex-column gap-3",style:{height:"130px"}},Is={class:"d-flex align-items-center"},Ss={class:"text-muted"},Ps={class:"ms-auto"},Us={key:0},Ls={key:1,class:"spinner-border"},$s={class:"progress",role:"progressbar",style:{height:"10px"}},Bs={class:"d-flex align-items-center"},Ds={class:"mb-0 ms-auto"},Es={class:"progress",role:"progressbar",style:{height:"10px"}},Os={class:"d-flex align-items-center"},Vs={class:"mb-0"},Gs={class:"mb-0 ms-auto text-muted"},js={class:"position-relative"},Hs={class:"col-sm-12"},Ts={class:"card rounded-3 h-100 shadow"},qs={class:"card-body p-4 d-flex gap-3 flex-column"},As={class:"d-flex align-items-center"},Fs={class:"text-muted mb-0"},zs={class:"ms-auto mb-0"},Js={key:0},Ks={key:1,class:"spinner-border"},Qs={key:0,class:"row g-3"},Rs={class:"col-sm-6 fadeIn"},Ws={class:"d-flex mb-2"},Xs={class:"mb-0"},Ys={class:"mb-0 ms-auto d-flex gap-2"},Zs={class:"text-info"},se={class:"text-warning"},ee={class:"progress",role:"progressbar",style:{height:"10px"}},te={class:"col-sm-12"},ae={class:"card rounded-3 h-100 shadow"},oe={class:"card-body p-4 d-flex gap-3 flex-column"},le={class:"d-flex align-items-center"},re={class:"text-muted mb-0"},ne={class:"ms-auto mb-0"},ce={key:0},ie={key:1,class:"spinner-border"},de={class:"row g-3"},ue={class:"col-sm-6 fadeIn"},_e={class:"d-flex mb-2"},pe={class:"mb-0"},me={class:"mb-0 ms-auto d-flex gap-2"},he={class:"text-success"},ve={class:"progress",role:"progressbar",style:{height:"20px"}},be={__name:"systemStatus",setup(u){const g=V(),e=h(()=>g.SystemStatus);let w=null;q.register(A,F,z,J,K,Q,R,W,X,Y,Z),G(()=>{M(),w=setInterval(()=>{M()},5e3)}),j(()=>{clearInterval(w)});const f=v([]),k=v([]),C=v([]),N=v([]),M=()=>{H("/api/systemStatus",{},i=>{f.value.push(ss().format("HH:mm:ss A")),g.SystemStatus=i.data,k.value.push(i.data.CPU.cpu_percent),C.value.push(i.data.Memory.VirtualMemory.percent),N.value.push(i.data.Memory.SwapMemory.percent)})},I=h(()=>({responsive:!0,plugins:{legend:{display:!0},tooltip:{callbacks:{label:i=>`${i.formattedValue}%`}}},scales:{x:{ticks:{display:!1},grid:{display:!1}},y:{ticks:{callback:(i,l)=>`${i}%`},grid:{display:!1}}}})),E=h(()=>({labels:[...f.value],datasets:[{label:x("CPU Usage"),data:[...k.value],fill:"start",backgroundColor:"#0d6efd50",borderColor:"#0d6efd",tension:0}]})),O=h(()=>({labels:[...f.value],datasets:[{label:x("Memory Usage"),data:[...C.value],fill:1,borderColor:"#0dcaf0",backgroundColor:"#0dcaf050",tension:0},{label:x("Swap Memory Usage"),data:[...N.value],fill:"start",backgroundColor:"#ffc10750",borderColor:"#ffc107",tension:0}]}));return(i,l)=>(a(),o("div",ls,[s("div",rs,[s("div",ns,[s("div",cs,[s("div",is,[s("div",ds,[s("div",us,[s("h3",_s,[l[0]||(l[0]=s("i",{class:"bi bi-cpu-fill me-2"},null,-1)),r(c,{t:"CPU"})]),s("h3",ps,[e.value?(a(),o("span",ms,n(e.value.CPU.cpu_percent)+"% ",1)):(a(),o("span",hs))])]),s("div",vs,[s("div",{class:"progress-bar",style:d({width:`${e.value?.CPU.cpu_percent}%`})},null,4)]),s("div",bs,[(a(!0),o(_,null,p(e.value?.CPU.cpu_percent_per_cpu,(t,m)=>(a(),y(T,{square:!0,key:m,align:m+1>Math.round(e.value?.CPU.cpu_percent_per_cpu.length/2),core_number:m,percentage:t},null,8,["align","core_number","percentage"]))),128))])]),r(S($),{options:I.value,data:E.value,style:{width:"100%",height:"200px","max-height":"200px"}},null,8,["options","data"]),s("div",gs,[s("h5",fs,[r(c,{t:"Processes"})]),s("h6",ys,[s("small",null,[r(c,{t:"CPU Usage"})])])]),l[1]||(l[1]=s("hr",{class:"my-1"},null,-1)),s("div",xs,[r(U,{name:"process"},{default:P(()=>[(a(!0),o(_,null,p(e.value?.Processes.cpu_top_10,t=>(a(),y(B,{key:t.pid,cpu:!0,process:t},null,8,["process"]))),128))]),_:1})])])])])]),s("div",ws,[s("div",ks,[s("div",Cs,[s("div",Ns,[s("div",Ms,[s("div",Is,[s("h3",Ss,[l[2]||(l[2]=s("i",{class:"bi bi-memory me-2"},null,-1)),r(c,{t:"Memory"})]),s("h3",Ps,[e.value?(a(),o("span",Us,n(e.value?.Memory.VirtualMemory.percent)+"% ",1)):(a(),o("span",Ls))])]),s("div",$s,[s("div",{class:"progress-bar bg-info",style:d({width:`${e.value?.Memory.VirtualMemory.percent}%`})},null,4)]),s("div",Bs,[l[3]||(l[3]=s("h6",{class:"mb-0"},"Swap Memory",-1)),s("h6",Ds,n(e.value?.Memory.SwapMemory.percent)+"%",1)]),s("div",Es,[s("div",{class:"progress-bar bg-info-subtle",style:d({width:`${e.value?.Memory.SwapMemory.percent}%`})},null,4)])]),r(S($),{options:I.value,data:O.value,style:{width:"100%",height:"200px","max-height":"200px"}},null,8,["options","data"]),s("div",Os,[s("h5",Vs,[r(c,{t:"Processes"})]),s("h6",Gs,[s("small",null,[r(c,{t:"Memory Usage"})])])]),l[4]||(l[4]=s("hr",{class:"my-1"},null,-1)),s("div",js,[r(U,{name:"process"},{default:P(()=>[(a(!0),o(_,null,p(e.value?.Processes.memory_top_10,t=>(a(),y(B,{key:t.pid,process:t},null,8,["process"]))),128))]),_:1})])])])])]),s("div",Hs,[s("div",Ts,[s("div",qs,[s("div",As,[s("h3",Fs,[l[5]||(l[5]=s("i",{class:"bi bi-ethernet me-2"},null,-1)),r(c,{t:"Network"})]),s("h3",zs,[e.value?(a(),o("span",Js,[r(c,{t:Object.keys(e.value.NetworkInterfaces).length+" Interface"+(Object.keys(e.value.NetworkInterfaces).length>1?"s":"")},null,8,["t"])])):(a(),o("span",Ks))])]),e.value?(a(),o("div",Qs,[(a(!0),o(_,null,p(Object.keys(e.value.NetworkInterfaces).sort(),(t,m)=>(a(),o("div",Rs,[s("div",Ws,[s("h6",Xs,[s("samp",null,n(t),1)]),s("h6",Ys,[s("span",Zs,[l[6]||(l[6]=s("i",{class:"bi bi-arrow-down"},null,-1)),L(" "+n(Math.round((e.value.NetworkInterfaces[t].bytes_recv/1024e6+Number.EPSILON)*1e4)/1e4)+" GB ",1)]),s("span",se,[l[7]||(l[7]=s("i",{class:"bi bi-arrow-up"},null,-1)),L(" "+n(Math.round((e.value.NetworkInterfaces[t].bytes_sent/1024e6+Number.EPSILON)*1e4)/1e4)+" GB ",1)])])]),s("div",ee,[e.value.NetworkInterfaces[t].byte_recv>0?(a(),o("div",{key:0,class:"progress-bar bg-info",style:d({width:`${e.value.NetworkInterfaces[t].bytes_recv/(e.value.NetworkInterfaces[t].byte_sent+e.value.NetworkInterfaces[t].byte_recv)*100}%`})},null,4)):b("",!0),e.value.NetworkInterfaces[t].byte_sent>0?(a(),o("div",{key:1,class:"progress-bar bg-warning",style:d({width:`${e.value.NetworkInterfaces[t].bytes_sent/(e.value.NetworkInterfaces[t].byte_sent+e.value.NetworkInterfaces[t].byte_recv)*100}%`})},null,4)):b("",!0)])]))),256))])):b("",!0)])])]),s("div",te,[s("div",ae,[s("div",oe,[s("div",le,[s("h3",re,[l[8]||(l[8]=s("i",{class:"bi bi-device-ssd-fill me-2"},null,-1)),r(c,{t:"Storage"})]),s("h3",ne,[e.value?(a(),o("span",ce,[r(c,{t:e.value.Disks.length+" Partition"+(e.value.Disks.length>1?"s":"")},null,8,["t"])])):(a(),o("span",ie))])]),s("div",de,[e.value?(a(!0),o(_,{key:0},p(e.value.Disks,t=>(a(),o("div",ue,[s("div",_e,[s("h6",pe,[s("samp",null,n(t.mountPoint),1)]),s("h6",me,[s("span",he,n(Math.round((t.used/1024e6+Number.EPSILON)*100)/100)+" / "+n(Math.round((t.total/1024e6+Number.EPSILON)*100)/100)+" GB Used ",1)])]),s("div",ve,[s("div",{class:"progress-bar bg-success",style:d({width:`${t.percent}%`})},n(t.percent)+"% ",5)])]))),256)):b("",!0)])])])])]))}},ke=D(be,[["__scopeId","data-v-dcb8f73f"]]);export{ke as default};
